<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>手机号查询极速版</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 国内 CDN -->
  <link href="https://cdn.staticfile.org/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{--bg:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
    body{background:var(--bg);min-height:100vh;display:flex;align-items:center;justify-content:center}
    .card{border:none;border-radius:1.5rem;box-shadow:0 1rem 3rem rgba(0,0,0,.25);max-width:480px}
    #spin{width:1rem;height:1rem;border-width:.15rem}
  </style>
</head>
<body>
  <div class="container">
    <div class="card p-5">
      <h5 class="mb-3 text-center"><i class="bi bi-telephone-forward text-primary"></i> 号码归属地</h5>
      <div class="input-group input-group-lg mb-3">
        <input id="phoneInput" type="text" class="form-control" placeholder="11 位手机号" maxlength="11">
        <button id="queryBtn" class="btn btn-primary" onclick="queryPhone()">
          <span id="btnText">查询</span>
        </button>
      </div>
      <div id="resultArea" class="alert alert-light d-none"></div>
    </div>
  </div>

  <!-- 延迟加载图标字体，不阻塞首屏 -->
  <link rel="preload" href="https://cdn.staticfile.org/bootstrap-icons/1.11.0/font/bootstrap-icons.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdn.staticfile.org/bootstrap-icons/1.11.0/font/bootstrap-icons.css"></noscript>

  <script>
    async function queryPhone(){
      const mob=document.getElementById('phoneInput').value.trim();
      if(!/^1[3-9]\d{9}$/.test(mob)){alert('手机号格式错误');return;}
      document.getElementById('queryBtn').disabled=true;
      document.getElementById('btnText').innerHTML='<span class="spinner-border spinner-border-sm" id="spin"></span> 查询中';
      const res=await fetch('https://eolink.o.apispace.com/teladress/teladress',{
        method:'POST',
        headers:{
          'X-APISpace-Token':'4lqek9p5ejmfkn2wa8zy5ubmzjnv27so',
          'Content-Type':'application/x-www-form-urlencoded'
        },
        body:'mobile='+mob
      }).then(r=>r.json());
      document.getElementById('queryBtn').disabled=false;
      document.getElementById('btnText').textContent='查询';
      const ra=document.getElementById('resultArea');
      if(res.code==='200000'){
        const d=res.data;
        ra.innerHTML=`<div><strong>${d.province} · ${d.city}</strong></div><div class="mt-1"><span class="badge bg-info">${d.isp}</span></div>`;
        ra.classList.remove('d-none');
      }else{ra.innerHTML='查询失败：'+res.message;ra.classList.remove('d-none');}
    }
  </script>
</body>
</html>